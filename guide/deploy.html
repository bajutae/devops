<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>배포하기 | DevOps 안내서</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" sizes="32x32" href="/devops/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/devops/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/devops/icons/apple-touch-icon.png">
    <link rel="manifest" href="/devops/manifest.json">
    <link rel="mask-icon" href="/devops/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link href="https://css.gg/css?=|calendar-dates|folder|tag" rel="stylesheet">
    <meta name="description" content="배포 준비 하기">
    <meta name="image" content="https://subicura.com/devops/imgs/share.png">
    <meta name="twitter:title" content="배포하기">
    <meta name="twitter:description" content="배포 준비 하기">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://subicura.com/devops/imgs/share.png">
    <meta name="twitter:url" content="https://subicura.com/devops/guide/deploy.html">
    <meta name="twitter:creator" content="@subicura">
    <meta name="twitter:site" content="@subicura">
    <meta property="og:type" content="article">
    <meta property="og:title" content="배포하기">
    <meta property="og:description" content="배포 준비 하기">
    <meta property="og:image" content="https://subicura.com/devops/imgs/share.png">
    <meta property="og:url" content="https://subicura.com/devops/guide/deploy.html">
    <meta property="og:site_name" content="DevOps 안내서">
    <meta property="article:author" content="subicura">
    <meta itemprop="name" content="배포하기">
    <meta itemprop="description" content="배포 준비 하기">
    <meta itemprop="image" content="https://subicura.com/devops/imgs/share.png">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/devops/icons/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta property="fb:app_id" content="1611862309129685">
    
    <link rel="preload" href="/devops/assets/css/0.styles.1ab9e35c.css" as="style"><link rel="preload" href="/devops/assets/js/app.d5984bfa.js" as="script"><link rel="preload" href="/devops/assets/js/7.9d38de38.js" as="script"><link rel="preload" href="/devops/assets/js/2.c52c0dc6.js" as="script"><link rel="preload" href="/devops/assets/js/1.f7010e06.js" as="script"><link rel="preload" href="/devops/assets/js/9.297211b4.js" as="script"><link rel="preload" href="/devops/assets/js/19.633a7f1e.js" as="script"><link rel="preload" href="/devops/assets/js/18.07ba2353.js" as="script"><link rel="prefetch" href="/devops/assets/js/10.bfb52892.js"><link rel="prefetch" href="/devops/assets/js/11.864b52d6.js"><link rel="prefetch" href="/devops/assets/js/12.1d829c14.js"><link rel="prefetch" href="/devops/assets/js/13.34b5ef6e.js"><link rel="prefetch" href="/devops/assets/js/14.a83eb82e.js"><link rel="prefetch" href="/devops/assets/js/15.0f983616.js"><link rel="prefetch" href="/devops/assets/js/16.26902a62.js"><link rel="prefetch" href="/devops/assets/js/17.6ada49f4.js"><link rel="prefetch" href="/devops/assets/js/20.76d8816a.js"><link rel="prefetch" href="/devops/assets/js/21.2ddb578a.js"><link rel="prefetch" href="/devops/assets/js/22.39b3206e.js"><link rel="prefetch" href="/devops/assets/js/23.9af3fc8e.js"><link rel="prefetch" href="/devops/assets/js/24.948e75bd.js"><link rel="prefetch" href="/devops/assets/js/25.f2d4c588.js"><link rel="prefetch" href="/devops/assets/js/26.4c1b6073.js"><link rel="prefetch" href="/devops/assets/js/27.b035d3b1.js"><link rel="prefetch" href="/devops/assets/js/28.2235afcf.js"><link rel="prefetch" href="/devops/assets/js/29.f84da66f.js"><link rel="prefetch" href="/devops/assets/js/30.c38e081e.js"><link rel="prefetch" href="/devops/assets/js/31.64dde93c.js"><link rel="prefetch" href="/devops/assets/js/32.6d3547f6.js"><link rel="prefetch" href="/devops/assets/js/33.e5cc732b.js"><link rel="prefetch" href="/devops/assets/js/34.a7975b40.js"><link rel="prefetch" href="/devops/assets/js/35.bc418548.js"><link rel="prefetch" href="/devops/assets/js/36.863f1217.js"><link rel="prefetch" href="/devops/assets/js/37.a0712828.js"><link rel="prefetch" href="/devops/assets/js/38.292e7f40.js"><link rel="prefetch" href="/devops/assets/js/39.b09fb30a.js"><link rel="prefetch" href="/devops/assets/js/4.2fa5351c.js"><link rel="prefetch" href="/devops/assets/js/40.b2ea5f4c.js"><link rel="prefetch" href="/devops/assets/js/41.81becb0d.js"><link rel="prefetch" href="/devops/assets/js/42.36d452e6.js"><link rel="prefetch" href="/devops/assets/js/43.4f5c090d.js"><link rel="prefetch" href="/devops/assets/js/44.019a59a7.js"><link rel="prefetch" href="/devops/assets/js/5.49ff453f.js"><link rel="prefetch" href="/devops/assets/js/6.ead9053d.js"><link rel="prefetch" href="/devops/assets/js/8.9cab6fa6.js">
    <link rel="stylesheet" href="/devops/assets/css/0.styles.1ab9e35c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devops/" class="home-link router-link-active"><!----> <span class="site-name">DevOps 안내서</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><div class="toggleWrapper" data-v-53a5133a><input type="checkbox" id="themeSwitch" data-v-53a5133a><label for="themeSwitch" class="toggle" data-v-53a5133a><span class="toggle__handler" data-v-53a5133a><span class="crater crater--1" data-v-53a5133a></span><span class="crater crater--2" data-v-53a5133a></span><span class="crater crater--3" data-v-53a5133a></span></span><span class="star star--1" data-v-53a5133a></span><span class="star star--2" data-v-53a5133a></span><span class="star star--3" data-v-53a5133a></span><span class="star star--4" data-v-53a5133a></span><span class="star star--5" data-v-53a5133a></span><span class="star star--6" data-v-53a5133a></span></label></div></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devops/guide/hello.html" class="nav-link">
  📔 가이드
</a></div> <a href="https://github.com/subicura/devops" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a onclick="alert('준비중입니다 :)')" target="_blank" rel="noopener noreferrer" class="inflearn-out-link" style="cursor: pointer">
    영상강의
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/devops/guide/hello.html" class="nav-link">
  📔 가이드
</a></div> <a href="https://github.com/subicura/devops" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a onclick="alert('준비중입니다 :)')" target="_blank" rel="noopener noreferrer" class="inflearn-out-link" style="cursor: pointer">
    영상강의
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>들어가기</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>개발과 테스트 코드</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>배포</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/devops/guide/deploy.html" aria-current="page" class="active sidebar-link">배포하기</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#배포방식" class="sidebar-link">배포방식</a></li><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#paas" class="sidebar-link">PaaS</a></li><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#heroku" class="sidebar-link">Heroku</a></li><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#paas의-단점" class="sidebar-link">PaaS의 단점</a></li><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#aws-elastic-beanstalk" class="sidebar-link">AWS Elastic Beanstalk</a></li><li class="sidebar-sub-header"><a href="/devops/guide/deploy.html#마무리" class="sidebar-link">마무리</a></li></ul></li><li><a href="/devops/guide/aws-deploy.html" class="sidebar-link">AWS 배포</a></li><li><a href="/devops/guide/aws-multi-deploy.html" class="sidebar-link">AWS 다중 서버 배포</a></li><li><a href="/devops/guide/aws-certificate.html" class="sidebar-link">SSL 인증서</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>컨테이너 (준비중)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>지속적 통합(CI) (준비중)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>쿠버네티스 (준비중)</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="배포하기"><a href="#배포하기" class="header-anchor">#</a> 배포하기</h1> <div class="custom-block tip"><p class="custom-block-title">⚡️ 목표</p> <p>✅ On-Premise와 IaaS, PaaS, 서버리스, 컨테이너에 대해 알아봅니다.<br>
✅ <a href="https://www.heroku.com/" target="_blank" rel="noopener noreferrer">Heroku<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에 배포합니다.<br>
✅ <a href="https://docs.aws.amazon.com/ko_kr/elastic-beanstalk" target="_blank" rel="noopener noreferrer">AWS Elastic Beanstalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에 배포합니다.</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#배포방식">배포방식</a></li><li><a href="#paas">PaaS</a></li><li><a href="#heroku">Heroku</a></li><li><a href="#paas의-단점">PaaS의 단점</a></li><li><a href="#aws-elastic-beanstalk">AWS Elastic Beanstalk</a></li><li><a href="#마무리">마무리</a></li></ul></div><p></p> <p>드디어 1차 개발이 완료되어 배포를 준비합니다. <s>두근두근</s></p> <div class="kakao-room"><div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        AWS에 배포하려고 하는데 제가 배포는 처음이라서.. 혹시 조금 도와주실수 있나요?
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        드디어 개발이 완료되었군요 ㅊㅋㅊㅋ
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        혹시 생각해보신 배포 방식이 있나요?
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        음?? 그냥 배포만 하면 돼요! Node.js 웹서버요 ㅎㅎㅎ
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        아.. 배포라고 하면 여러 가지 방법이 있는데, 아직 규모가 작으니까 EC2에 직접 배포하던가 AWS Elastic Beanstalk같은 PaaS 방식을 이용하면 좋을 것 같아요
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        Lambda같은 서버리스도 괜찮을 것 같고 시스템이 복잡해지면 ECS나 EKS같은 컨테이너 기술을 도입해보죠
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        EC2? PaaS? 서버리스? 컨테이너?..요?
      </div></div> <div class="msg-empty"></div></div></div></div> <h2 id="배포방식"><a href="#배포방식" class="header-anchor">#</a> 배포방식</h2> <p><strong>On-premise vs Cloud</strong></p> <p>배포는 크게 자체 서버<sup>On-premise</sup>와 클라우드<sup>cloud</sup>방식으로 나눌 수 있습니다. 자체 서버는 서버를 구매하고 설치부터 설정까지 모든 것을 관리할 수 있지만 그만큼 힘들고 서버를 손쉽게 확장하기 어려운 문제가 있습니다. 보안상의 이유로 클라우드를 사용할 수 없거나 특이한 하드웨어(3090 8대 연결?!)가 필요할 때 사용하고 서버를 한번 구매하면 <s>장애가 없다는 가정하에</s> 추가적인 비용이 발생하지 않기 때문에 비용적인 측면에서 자체 서버를 사용하는 경우도 있습니다.</p> <p><strong>IaaS vs PaaS</strong></p> <p>최근에는 사용한 만큼 비용을 지불하고 필요하면 수십-수백 대의 서버를 사용할 수 있는 클라우드 방식을 선호합니다. <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer">AWS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://azure.microsoft.com/" target="_blank" rel="noopener noreferrer">Microsoft Azure<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://cloud.google.com/" target="_blank" rel="noopener noreferrer">Google Cloud<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://www.ncloud.com/" target="_blank" rel="noopener noreferrer">Naver Cloud<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>는 서버 설치, 전원 관리등을 제외한 대부분의 인프라를 직접 구성할 수 있고 IaaS(Infrastructure-as-a-service/이아스/아이아스) 방식이라고 합니다. <a href="https://www.heroku.com/" target="_blank" rel="noopener noreferrer">Heroku<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">Vercel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer">netlify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://aws.amazon.com/ko/elasticbeanstalk/" target="_blank" rel="noopener noreferrer">AWS Elastic Beanstalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://azure.microsoft.com/en-gb/services/app-service/#overview" target="_blank" rel="noopener noreferrer">Azure App Service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://cloud.google.com/appengine/" target="_blank" rel="noopener noreferrer">Google App Engine<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>는 코드만 업로드하면 바로 서비스를 사용할 수 있는 PaaS(Platform-as-a-service/파스) 방식입니다.</p> <p><strong>서버리스<sup>serverless</sup></strong></p> <p>서버리스는 서버가 없는(??) 방식입니다. 물론 물리적인 서버는 존재하지만, 추상적으로 서버가 없는 것처럼 서비스를 사용할 수 있습니다. <a href="https://aws.amazon.com/ko/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://azure.microsoft.com/ko-kr/services/functions/" target="_blank" rel="noopener noreferrer">Azure Functions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://cloud.google.com/functions/" target="_blank" rel="noopener noreferrer">Google Cloud Functions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://workers.cloudflare.com/" target="_blank" rel="noopener noreferrer">Cloudflare Workers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>가 있고 서비스를 사용한 만큼만(초 단위 과금) 비용을 지불하고 서버 관리 자체를 할 필요가 없다는 게 큰 매력입니다.</p> <p><strong>컨테이너<sup>container</sup></strong></p> <p>컨테이너는 격리된 공간에서 프로세스가 동작하는 기술입니다. 기존에 배포하면서 불편했던 많은 부분을 해결해주고 확장과 롤백 등이 간편하여 많은 회사에서 사용하고 있습니다. 자세한 내용은 <a href="./docker">Docker</a>에서 다룹니다.</p> <p>각각의 방식은 장단점이 있고 모든 기술이 그러하듯 트레이드 오프를 고려하여 지금 가장 적합한 방식을 선택하면 됩니다.</p> <h2 id="paas"><a href="#paas" class="header-anchor">#</a> PaaS</h2> <div class="kakao-room"><div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        배포 방식을 살펴봤는데 PaaS 방식이 좋아 보입니다!
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        PaaS는 특별한 설정 없이 간편하게 배포를 할 수 있다는 점에서 좋은 선택입니다 👍
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        배포가 간단한 만큼 단점도 있는데.. 혹시 아시나요?
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        아..아직 단점까진 확인 못 했습니다 ㅠ 서비스 소개 페이지 보니까 다 좋은점만 써있어요;;
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        일단 배포부터하고 단점은 천천히 알아볼게요. 중요한 건 기술 선택에 따른 트레이드 오프를 이해하고 이 선택이 맞는지 판단할 수 있는 능력을 키워야해요
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        그럼 초초초 간편한 Heroku 사용법을 알아볼게요. GitHub 계정만 연결하면 클릭 한두 번으로 배포할 수 있어요~
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        아.. 이런 게 PaaS구나! 하는 느낌적인 느낌을 느껴볼게요
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        네네
      </div></div> <div class="msg-empty"></div></div></div></div> <p>PaaS는 복잡한 설정 대신 <strong>규칙</strong>이 중요합니다. PaaS가 많은 부분을 대신해 주지만 애플리케이션이 어떻게 동작하는지는 정확히 알 수 없기 때문에 힌트를 줘야 합니다. Node.js로 만든 애플리케이션이라면 <code>package.json</code>파일이 존재해야 하고 <code>start</code> 스크립트를 작성해야 합니다. 그리고 웹서버가 오픈하는 포트도 정해져 있는데 <code>80</code>이나 <code>8080</code>으로 띄워야 하고 <code>PORT</code>라는 환경변수를 사용할 수도 있습니다. 이러한 규칙은 서비스마다 조금씩 다르기 때문에 사용하기 전에 관련 내용을 확인해야 합니다.</p> <p><code>Awesome API</code> 코드에서 웹서버 포트 설정을 다음과 같이 수정합니다.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// process.env.PORT를 추가하여 PORT 환경변수가 있으면 해당 값을 웹서버의 Port로 사용합니다.</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    server<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>예전에는 포트가 3000으로 고정되어 있었지만, 이제 PORT 환경변수를 넣으면 해당 포트를 사용합니다.</p> <h2 id="heroku"><a href="#heroku" class="header-anchor">#</a> Heroku</h2> <p>Heroku는 전통적인 PaaS 서비스로 <code>Ruby</code>, <code>Node.js</code>, <code>Clojure</code>, <code>Python</code>, <code>Java</code>, <code>Scala</code>, <code>PHP</code>, <code>Go</code>등 다양한 언어를 지원합니다. GitHub을 연동하여 서비스를 배포해보겠습니다.</p> <p><code>New</code> -&gt; <code>Create new app</code>을 선택합니다.</p> <p><img src="/devops/assets/img/heroku-new-app.9eb4bcb5.png" alt="New App"></p> <p>App name을 입력합니다. <s>아니 왜 Asia는 없지.. ㅠㅠ</s></p> <p><img src="/devops/assets/img/heroku-github.9dc0e567.png" alt="Connect GitHub"></p> <p>배포할 GitHub 저장소를 선택합니다.</p> <p><img src="/devops/assets/img/heroku-deploy.be4d0e67.png" alt="Build and deploy"></p> <p>수동으로 배포합니다. Manual Deploy에서 Deploy Branch를 선택합니다.</p> <p>5분 정도 기다리면.. 🎉 짠! 배포가 완료되었습니다. 새 앱 만들기부터 배포까지 1분도 채 걸리지 않았습니다.</p> <p>배포 로그를 보면 Node.js를 추가하고 패키지를 설치한 다음 애플리케이션을 실행하는 모습을 볼 수 있습니다. 마치 Node.js 웹 애플리케이션 배포만 100번 이상 해본 사람이 서버를 착착착 설정해주는 느낌입니다. PaaS는 정형적인 개발 패턴을 바탕으로 빌드부터 배포까지 각종 귀찮은 작업을 <strong>알아서</strong> 해줍니다.</p> <div class="custom-block tip"><p class="custom-block-title">Heroku 더보기</p> <p>📔 <a href="https://devcenter.heroku.com/" target="_blank" rel="noopener noreferrer">공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
📔 <a href="https://devcenter.heroku.com/categories/nodejs-support" target="_blank" rel="noopener noreferrer">Node.js 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="paas의-단점"><a href="#paas의-단점" class="header-anchor">#</a> PaaS의 단점</h2> <p>PaaS는 일반적인 애플리케이션을 더 빨리, 더 안정적으로 제공하는 데 도움을 주지만 단점도 있습니다. 잘 알고 쓰면 초고속 로켓이지만, 잘 모르고 쓰면 서비스를 확장할 때 걸림돌이 될 수 있습니다.</p> <ul><li>특정 지역만 사용할 수 있습니다. Heroku는 미국과 유럽만 선택 가능합니다.</li> <li>특정 언어/프레임워크만 사용할 수 있습니다. Rust라던가 Deno, Elixer 같은 언어는 사용이 어려울 수 있습니다.</li> <li>특정 버전만 사용할 수 있습니다. Node.js 최신 버전이 나와도 서비스에서 지원하지 않으면 사용할 수 없습니다.</li> <li>특정 CPU 아키텍처만 사용할 수 있습니다. arm 서버가 저렴하지만, x86만 지원할 수 있습니다.</li> <li>특정 시스템 라이브러리 사용이 불가능 할 수 있습니다.</li> <li>웹소켓, gRPC같은 특정 프로토콜을 사용하기 어렵습니다.</li> <li>하나의 서비스는 하나의 서버를 사용합니다. 하나의 서버에 여러 개의 서비스를 사용하기 어렵습니다.</li> <li>특정 경로에 생기는 파일 로그는 확인이 어려울 수 있습니다.</li> <li>cronjob등 서버에서 제공하는 기능을 사용할 수 없습니다.</li> <li>서비스에서 제공하는 정보 외에 상세한 모니터링이 불가능합니다.</li> <li>성능, 용량 제한이 있습니다.</li> <li>서버의 세부 설정을 제어할 수 없습니다.</li> <li>특정 서비스에 종속된 기술을 사용합니다. 범용적인 기술을 학습하기 어렵습니다.</li></ul> <p>PaaS마다 일부 커스터마이징을 지원하지만 IaaS만큼 자유롭진 않습니다.</p> <div class="kakao-room"><div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        PaaS가 생각보다 단점이 많네요 ㅠㅠㅠ
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        단점이 있지만.. 특별한 기능이 필요한 게 아니면 사실 큰 문제는 없어요. 아마 대부분 단점을 잘 모르고 사용할 거예요 ㅎㅎ
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        그리고 AWS에서 제공하는 Beanstalk라는 서비스를 이용하면 약간 그.. 하이브리드? 처럼 PaaS지만 꽤 커스터마이징이 자유로운 환경 설정이 가능합니다
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg is-me"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/undefined.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        
      </div> <div class="msg">
        오.. 좋네요!!
      </div></div> <div class="msg-empty"></div></div></div> <div class="kakao-msg"><div class="msg-wrapper"><div class="avatar" style="background:url('/devops/imgs/senior.png') no-repeat center center;background-size:cover;"></div> <div class="msg-info"><div class="user">
        촋 CTO
      </div> <div class="msg">
        그럼 바로 배포해보죠!
      </div></div> <div class="msg-empty"></div></div></div></div> <h2 id="aws-elastic-beanstalk"><a href="#aws-elastic-beanstalk" class="header-anchor">#</a> AWS Elastic Beanstalk</h2> <p>AWS에 로그인하고 Elastic Beanstalk를 만듭니다.</p> <div class="image-750"><p><img src="/devops/assets/img/beanstalk-name.371470c6.png" alt="New App"> <img src="/devops/assets/img/beanstalk-platform.819b4d9c.png" alt="Select Platform"></p></div> <p>Application name을 입력하고 Platform을 Node.js로 선택합니다.</p> <div class="image-350"><p><img src="/devops/assets/img/github-download.60bd140b.png" alt="GitHub Download"></p></div> <p>아쉽지만, Beanstalk는 GitHub <s>Microsoft 소유</s> 저장소와 바로 연동할 수 없습니다. 하지만 zip 파일을 지원하기 때문에 GitHub에서 소스를 다운받아서 업로드 합니다.</p> <div class="image-750"><p><img src="/devops/assets/img/beanstalk-code.c5d22cbf.png" alt="Upload code"></p></div> <p>최종적으로 <code>Create Application</code>을 눌러 서비스를 생성합니다.</p> <p>Beanstalk가 소스를 S3에 업로드하고 EC2를 만든 다음, AutoScaling Group, Security Group, CloudWatch를 설정하고 ELB까지 쭈우우우욱 생성합니다. AWS 인프라 위에서 필요한 리소스를 대신 설정 해주는 방식이라 필요하면 세부적으로 설정할 수 있는 장점이 있습니다.</p> <p>그럼 이제 배포가 되었는지 확인해볼까요?</p> <div class="image-750"><p><img src="/devops/assets/img/beanstalk-status.7ee5f3e2.png" alt="Status"></p></div> <p>두둥! ❌ 배포가 <strong>실패</strong>했습니다. <code>Causes</code> 버튼을 누르고 로그를 확인해봐도 Health Check가 실패했다는 말만 있고 자세한 내용은 보이지 않습니다. <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/create_deploy_nodejs.container.html" target="_blank" rel="noopener noreferrer">Node.js 플랫폼 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 살펴봅니다.</p> <blockquote><p>애플리케이션을 시작하는 데는 몇 가지 옵션이 있습니다. 소스 번들에 Procfile을 추가하여 애플리케이션을 시작하는 명령을 지정할 수 있습니다. Procfile을 제공하지 않고 npm start 파일을 제공할 경우 Elastic Beanstalk가 package.json를 실행합니다. 둘 중 하나를 제공하지 않으면 Elastic Beanstalk에서 app.js 또는 server.js 파일을 이 순서대로 찾아서 실행합니다.</p></blockquote> <p><code>package.json</code> 파일이 분명히 있는데 무슨 일이지 확인해보니.. GitHub에서 다운받은 zip 파일이 디렉토리로 묶여 있는 것을 확인했습니다. 문서를 다시 천천히 보니 <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-sourcebundle.html#using-features.deployment.source.git" target="_blank" rel="noopener noreferrer">소스 파일을 압축하는 방법<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>도 알려줍니다.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> archive -v -o myapp.zip --format<span class="token operator">=</span>zip HEAD
</code></pre></div><p>다시 소스를 압축하고 배포합니다.</p> <p>🎉 짠! 배포에 성공했습니다.</p> <div class="custom-block tip"><p class="custom-block-title">AWS Elastic Beanstalk 더보기</p> <p>📔 <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/Welcome.html" target="_blank" rel="noopener noreferrer">공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
📔 <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/create_deploy_nodejs.html" target="_blank" rel="noopener noreferrer">Node.js 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="마무리"><a href="#마무리" class="header-anchor">#</a> 마무리</h2> <p>스무스하게 PaaS 배포를 진행했지만, 실제 애플리케이션을 배포하려면 많은 시행착오가 필요합니다. 그럴 때마다 열심히 구글링하고 문서를 확인하면서 해결해야 합니다. 처음에는 간단해 보이지만 깊게 사용하다 보면 내부 구조를 알아야 하고 그러다 보면 어느 순간 기본적인 서버 지식이 필요해집니다.</p> <p>서버를 더 깊이 이해하고 추후 확장을 위해서 밑바닥부터 배포해보겠습니다.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/subicura/devops/edit/master/src/guide/deploy.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2022-03-18</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/devops/guide/validate.html" class="prev">
        Validate, 테스트 자동화
      </a></span> <span class="next"><a href="/devops/guide/aws-deploy.html">
        AWS 배포
      </a>
      →
    </span></p></div> <div class="ut-comment-wrapper"></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/devops/assets/js/app.d5984bfa.js" defer></script><script src="/devops/assets/js/7.9d38de38.js" defer></script><script src="/devops/assets/js/2.c52c0dc6.js" defer></script><script src="/devops/assets/js/1.f7010e06.js" defer></script><script src="/devops/assets/js/9.297211b4.js" defer></script><script src="/devops/assets/js/19.633a7f1e.js" defer></script><script src="/devops/assets/js/18.07ba2353.js" defer></script>
  </body>
</html>
