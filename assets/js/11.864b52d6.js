(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{421:function(t,s,a){t.exports=a.p+"assets/img/new_repository.76c04b73.png"},422:function(t,s,a){t.exports=a.p+"assets/img/empty_repository.dcbef0d4.png"},423:function(t,s){t.exports="data:image/png;base64,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"},424:function(t,s,a){t.exports=a.p+"assets/img/add_pr.78740e0a.png"},425:function(t,s,a){t.exports=a.p+"assets/img/pr.6c1693f5.png"},459:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"github"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[t._v("#")]),t._v(" GitHub")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("⚡️ 목표")]),t._v(" "),n("p",[t._v("✅ "),n("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),n("OutboundLink")],1),t._v("을 이용하여 소스를 공유합니다."),n("br"),t._v("\n✅ "),n("a",{attrs:{href:"https://docs.github.com/en/get-started/quickstart/github-flow",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Flow"),n("OutboundLink")],1),t._v(" 방식을 이용하여 코드를 리뷰합니다."),n("br"),t._v("\n✅ Mock을 이용하여 테스트 코드를 작성합니다.")])]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#원격-저장소"}},[t._v("원격 저장소")])]),n("li",[n("a",{attrs:{href:"#github-flow"}},[t._v("GitHub Flow")])]),n("li",[n("a",{attrs:{href:"#mock-테스트"}},[t._v("Mock 테스트")])]),n("li",[n("a",{attrs:{href:"#마무리"}},[t._v("마무리")])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"원격-저장소"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#원격-저장소"}},[t._v("#")]),t._v(" 원격 저장소")]),t._v(" "),n("p",[t._v("Git은 단순 버전 관리 시스템을 넘어 "),n("strong",[t._v("분산")]),t._v(" 버전 관리 시스템입니다. 분산된 저장소에 소스를 관리할 수 있고 가장 유명한 서비스는 GitHub입니다.")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://subicura.com/git/prepare/github-setup.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub에 회원가입"),n("OutboundLink")],1),t._v("을 하고 첫 번째 저장소를 만들어 봅니다. 상단 프로필 이미지 옆에 "),n("code",[t._v("+")]),t._v(" 버튼을 누르고 "),n("code",[t._v("New Repository")]),t._v("를 선택합니다.")]),t._v(" "),n("div",{staticClass:"image-750"},[n("p",[n("img",{attrs:{src:a(421),alt:"New Repository"}})])]),t._v(" "),n("p",[t._v("저장소 이름을 입력하고 공개 여부를 선택합니다.")]),t._v(" "),n("div",{staticClass:"image-750"},[n("p",[n("img",{attrs:{src:a(422),alt:"Empty Repository"}})])]),t._v(" "),n("p",[t._v("🎉 짠! 첫 번째 저장소를 만들었습니다.")]),t._v(" "),n("p",[t._v("화면에서 안내하는 대로 원격 저장소를 설정합니다. "),n("code",[t._v("git commit")]),t._v(" 까지 완료한 상태니, 이후 명령어만 실행합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 메인 브랜치 이름을 main으로 설정")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -M main\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 원격 저장소 추가")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" origin git@github.com:subicura/awesome-api-server.git\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 원격 저장소에 푸시")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -u origin main\n")])])]),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("Enumerating objects: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(", done.\nCounting objects: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("/19"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nDelta compression using up to "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" threads\nCompressing objects: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("/16"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("/19"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("88.17")]),t._v(" KiB "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.35")]),t._v(" MiB/s, done.\nTotal "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", pack-reused "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nremote: Resolving deltas: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("/4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nTo github.com:subicura/awesome-api-server.git\n * "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("new branch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      main -"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" main\nBranch "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" up to track remote branch "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),t._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'origin'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),n("p",[t._v("드디어! 팀원들과 소스를 공유할 수 있는 원격 저장소가 만들어졌습니다. "),n("s",[t._v("20220318_2_source.zip 안녕")])]),t._v(" "),n("Chat-KakaoRoom",[n("Chat-KakaoMsg",{attrs:{msg:"GitHub 저장소 만들었습니다!",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"이제 원격으로 코드 공유하려고요 ㅎㅎ",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"축하드립니다! 🎉",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"GitHub 저장소도 만들었으니, 효율적으로 협업하는 방법을 알아볼까요?",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"아.. 그냥 push, pull 잘하면 되는거 아닌가요?!",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"Git은 강력한 브랜치기능을 제공하는데, GitHub Flow 방식으로 개발하면 코드 리뷰와 협업이 편해져요",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"브런치.. 먹는 건가요..",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"브런치가 아니고 브랜치(branch)..인데 일단 브랜치 생성부터 알려드릴게요 ㅎㅎㅎ",isMe:"false"}})],1),t._v(" "),n("h2",{attrs:{id:"github-flow"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github-flow"}},[t._v("#")]),t._v(" GitHub Flow")]),t._v(" "),n("div",{staticClass:"image-center"},[n("p",[n("img",{attrs:{src:a(423),alt:"Git Branch"}})])]),t._v(" "),n("p",[t._v("Git 브랜치는 하나의 저장소를 목적에 따라 다양하게 분기할 수 있는 기능입니다. 브랜치 기능을 이용하면 한 작업이 끝나고 다음 작업을 진행한 다음, 그 작업이 끝난 후 그다음 작업을 하는 것이 아니라 동시에 여러 작업을 진행하고 최종적으로 합치는 과정을 자연스럽게 할 수 있습니다.")]),t._v(" "),n("p",[t._v("이번에 새로 추가할 기능은 외부 API를 호출하고 그 결과를 정리해서 응답하는 API입니다. 일단 브랜치를 만들어서 분기한 다음 코드를 작성합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 새로운 브랜치 생성")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" switch -c add-activity\n")])])]),n("p",[n("code",[t._v("add-activity")]),t._v(" 브랜치를 만들었고 여기에 작성한 코드는 "),n("code",[t._v("main")]),t._v(" 브랜치에 영향을 미치지 않기 때문에 독립적으로 개발하고 나중에 합치면 됩니다.")]),t._v(" "),n("p",[t._v("외부 API를 호출하기 위해서 "),n("code",[t._v("node-fetch")]),t._v(" 패키지를 추가합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# node-fetch 설치")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" node-fetch@2 --save\n")])])]),n("p",[n("code",[t._v("src/app.js")]),t._v(" 파일에 "),n("code",[t._v("/activity")]),t._v(" 내용을 추가합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fetch "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-fetch'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.boredapi.com/api/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" reply"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),n("p",[t._v("심심할 때 할 일을 알려주는 "),n("code",[t._v("boredapi")]),t._v("를 호출하고 결과를 응답하는 API 입니다. 테스트해볼까요?")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 호출")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://localhost:3000/activity\n")])])]),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activity"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Learn to play a new instrument"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("잘 동작하네요! 그럼 GitHub 저장소에 Push 합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 정적분석, 포멧팅 실행")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run validate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 변경된 파일 추가")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 커밋")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add activity"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 원격 저장소에 브랜치 푸시")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin add-activity\n")])])]),n("p",[t._v("Push하고 GitHub에 접속해볼까요?")]),t._v(" "),n("div",{staticClass:"image-650"},[n("p",[n("img",{attrs:{src:a(424),alt:"Add Pull Request"}})])]),t._v(" "),n("p",[n("code",[t._v("Compare & pull request")]),t._v(" 버튼이 보입니다. 브랜치에 작업한 내용을 검토하기 위해 "),n("code",[t._v("PR(Pull request)")]),t._v("을 생성합니다.")]),t._v(" "),n("div",{staticClass:"image-650"},[n("p",[n("img",{attrs:{src:a(425),alt:"Pull Request"}})])]),t._v(" "),n("p",[t._v("최종적으로 팀원이 코드 리뷰를 완료하면 "),n("code",[t._v("Merge pull request")]),t._v(" 버튼을 누릅니다.")]),t._v(" "),n("Chat-KakaoRoom",[n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"PR 올리신거 리뷰 달았어요",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"확인해보겠습니다~~",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"코드는 깔끔한데, 새로 만든 API 테스트코드가 빠졌더라고요. 추가하면 좋을 것 같아요!",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"아.. 자꾸 까먹네요 ㅠㅠ 추가하겠습니다",isMe:"true"}})],1),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("GitHub Flow 더보기")]),t._v(" "),n("p",[t._v("📔 "),n("a",{attrs:{href:"https://docs.github.com/en/get-started/quickstart/github-flow",target:"_blank",rel:"noopener noreferrer"}},[t._v("공식 가이드"),n("OutboundLink")],1),n("br"),t._v("\n📔 "),n("a",{attrs:{href:"https://enterprise.github.com/downloads/en/github-flow-cheatsheet.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Flow Cheetsheet"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"mock-테스트"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mock-테스트"}},[t._v("#")]),t._v(" Mock 테스트")]),t._v(" "),n("p",[n("code",[t._v("/activity")]),t._v("를 호출하면 "),n("code",[t._v('{ "activity": "xxx" }')]),t._v("를 호출하는 테스트 코드를 작성합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"/activity\" 접속시 정상 응답'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toMatchInlineSnapshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),n("p",[t._v("Jest가 자동으로 테스트를 수행하고 Snapshot을 만듭니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toMatchInlineSnapshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Paint the first thing you see"')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("Chat-KakaoRoom",[n("Chat-KakaoMsg",{attrs:{msg:"테스트 코드를 작성하는데 문제가 생겼습니다! ;ㅁ;",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"???!!!",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"외부 API를 호출하는데.. 테스트할 때마다 결과가 달라서 테스트가 자꾸 실패하네요 ㅠㅠ",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"아.. 외부 API를 사용하는 경우엔 Mock을 이용하면 좋아요",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"Mock이.. 뭔가요",isMe:"true"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{avatar:"senior",user:"촋 CTO",msg:"외부 API는 우리 맘대로 제어할 수 없고 응답을 받아서 처리만 가능하죠?",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"그럼 2가지 정도를 테스트 할 수 있는데, 1) API 서버가 정상적으로 응답을 주었을 때, 2) API 서버에 오류가 있을 때 저희가 만든 API가 정상적으로 처리하는지를 보면 될 것 같네요",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"실제로 외부 API를 호출하지 않고 마치 호출한 것처럼 하는 방법을 Mock이라고 해요",isMe:"false"}}),t._v(" "),n("Chat-KakaoMsg",{attrs:{msg:"오.. 대박사건",isMe:"true"}})],1),t._v(" "),n("p",[t._v("외부 API를 호출하는 "),n("code",[t._v("fetch")]),t._v("를 Mock으로 변경해서 테스트합니다. 기존 테스트 코드에 다음 내용을 추가합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("jest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node-fetch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" build "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../app"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fetch "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node-fetch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Response "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireActual")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node-fetch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  jest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearAllMocks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"/activity\" 접속시 정상 응답'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mockReturnValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FAKE_ACTIVITY"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toMatchInlineSnapshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("code",[t._v("fetch")]),t._v("를 호출하면 임의로 "),n("code",[t._v('{ activity: "FAKE_ACTIVITY" }')]),t._v("를 응답하도록 테스트 코드를 수정했습니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v(" PASS  src/__tests__/app.js\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v(" 요청시 "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello: world"')]),t._v(" 응답 확인 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ping"')]),t._v(" 요청시 "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status: ok"')]),t._v(" 응답 확인 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),t._v(" 접속시 정상 응답 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nTest Suites: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" total\nTests:       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" total\nSnapshots:   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" total\nTime:        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.132")]),t._v(" s, estimated "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" s\nRan all "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" suites related to changed files.\n\nWatch Usage: Press w to show more.\n")])])]),n("p",[t._v("🎉 성공! 경고 없이 실행되었습니다. 여러 번 실행해도 매번 성공합니다. API 요청도 줄이고 속도도 빠르고 1석 2조?")]),t._v(" "),n("p",[t._v("이제, 외부 API 서버에 오류가 생겼을 때 테스트 코드를 작성합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"/activity\" 접속시 boredapi 오류 처리'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mockReturnValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API is down"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toEqual")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),n("p",[t._v("Jest가 자동으로 테스트를 수행합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v(" PASS  src/__tests__/app.js\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v(" 요청시 "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello: world"')]),t._v(" 응답 확인 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("37")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ping"')]),t._v(" 요청시 "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status: ok"')]),t._v(" 응답 확인 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),t._v(" 접속시 정상 응답 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ✓ "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),t._v(" 접속시 boredapi 오류 처리 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nTest Suites: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" total\nTests:       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" total\nSnapshots:   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" passed, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" total\nTime:        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.184")]),t._v(" s, estimated "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" s\nRan all "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" suites related to changed files.\n\nWatch Usage: Press w to show more.\n")])])]),n("p",[t._v("역시 성공입니다.")]),t._v(" "),n("p",[t._v("곰곰이 생각해보니 외부 API 응답은 정상인데 "),n("code",[t._v("activity")]),t._v("값이 비어 있는 경우도 처리를 해야 할 것 같습니다. 관련해서 테스트 코드를 추가합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"/activity\" 접속시 activity 빈값 처리'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mockReturnValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toEqual")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("테스트 결과는 실패입니다. 오류가 발생하길 기대했는데 정상적으로 "),n("code",[t._v("200")]),t._v("을 응답하네요.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("  ● "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),t._v(" 접속시 activity 빈값 처리\n\n    expect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("received"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".toBe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expected"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" // Object.is equality\n\n    Expected: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),t._v("\n    Received: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("69")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   expect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res.statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".toBe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                          ^\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   expect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res.json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".toEqual"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("73")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      at Object."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("anonymous"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src/__tests__/app.js:71:26"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("code",[t._v("app.js")]),t._v(" 코드를 수정합니다.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.boredapi.com/api/activity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activity "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" reply\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Activity is required!"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" reply"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_ERROR"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("🎉 모두 성공입니다! "),n("s",[t._v("짜릿해, 늘 새로워, 테스트 코드가 최고야")])]),t._v(" "),n("p",[t._v("이제 작성한 코드를 Push 합니다. 동일한 브랜치에 커밋을 추가하면 GitHub PR에 자동으로 변경된 사항을 반영합니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 정적분석, 포멧팅 실행")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run validate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 변경된 파일 추가")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 커밋")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add activity test code"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 원격 저장소에 브랜치 푸시")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin add-activity\n")])])]),n("p",[t._v("GitHub에서 "),n("code",[t._v("Merge pull request")]),t._v(" 버튼을 눌러 코드를 합칩니다.")]),t._v(" "),n("p",[t._v("최종적으로 "),n("code",[t._v("main")]),t._v(" 브랜치로 이동하고 최신 소스를 가져옵니다.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 브랜치 변경")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" switch main\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 원격 저장소 변경사항 반영")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("Jest 더보기")]),t._v(" "),n("p",[t._v("📔 "),n("a",{attrs:{href:"https://jestjs.io/docs/mock-functions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mock 함수 공식문서"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"마무리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#마무리"}},[t._v("#")]),t._v(" 마무리")]),t._v(" "),n("p",[t._v("GitHub Flow는 "),n("code",[t._v("브랜치 생성하기 > 코딩 > PR 만들기 > 리뷰 > 합치고 배포하기")]),t._v(" 를 반복하는 단순한 방식이지만, 효율적으로 코드를 검토하고 협업할 수 있습니다.")]),t._v(" "),n("p",[t._v("정적 코드 분석과 포멧터를 이용하면 코드 스타일에 대한 리뷰를 생략할 수 있고 핵심 로직에 집중할 수 있습니다. 자동화하는 만큼 비지니스 로직을 한 줄 더 작성할 수 있는 소중한 시간이 생깁니다.")]),t._v(" "),n("p",[t._v("테스트와 관련해선 이번 글이 마지막입니다. 더 자세한 내용은 너무 범위가 넓어져서.. 테스트 관련해서 알아두면 좋은 건 "),n("code",[t._v("Mock")]),t._v("이 많으면 좋지 않은 테스트 코드의 징조라는 겁니다. 실제 테스트 코드를 작성할 땐, 테스트 전문 서적/글을 꼭 참고해 주세요.")])],1)}),[],!1,null,null,null);s.default=e.exports}}]);